var $=Object.defineProperty,I=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(e,s,t)=>s in e?$(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,f=(e,s)=>{for(var t in s||(s={}))L.call(s,t)&&g(e,t,s[t]);if(w)for(var t of w(s))R.call(s,t)&&g(e,t,s[t]);return e},x=(e,s)=>I(e,E(s));import{_ as V}from"./plugin-vue_export-helper.ddefbfc0.js";import{l as y,x as k,y as N,z as D,A as m,n as c,q as i,s as l,F as T,B,C as _,v as p,G as h,H as u,u as v,U as C,J as O,K as A,L as F,M as H,N as K,O as J,w as P}from"./vendor.8ba93c2f.js";const b="otlp_poc",U=`${b}!index`;function X(e,s){return`${b}_${s}_${e}`}const j={class:"p-2"},q={class:"list-disc ml-6"},z={class:"text-sm"},G=u(" ("),M=u(") "),W=y({setup(e){const s=k(N(U,{},{deep:!1,shallow:!0,writeDefaults:!1})),t=D(()=>Object.entries(s.value).map(([o,a])=>f({sessionId:o,lastDataTime:new Date(a.lastData)},a)).sort((o,a)=>a.lastData-o.lastData));return(n,o)=>{const a=m("RouterLink");return c(),i("div",j,[l("ul",q,[(c(!0),i(T,null,B(_(t),r=>(c(),i("li",null,[p(a,{to:{name:"session.view",params:{sessionId:r.sessionId}}},{default:h(()=>[u(v(r.sessionId),1)]),_:2},1032,["to"]),l("span",z,[G,p(_(C),{time:r.lastDataTime},{default:h(({timeAgo:d})=>[u(v(d),1)]),_:2},1032,["time"]),M])]))),256))])])}}});function Y(e){return O({spans:Q(D(()=>X("spans",_(e))),Z)})}function Q(e,s){const t=A([]);function n(o){if(!(o&&o.key!==e.value))try{const a=o?o.newValue:localStorage.getItem(e.value);if(!a){t.value=[];return}t.value=s(a)}catch(a){console.error("Error parsing localstorage",e.value,a)}}return n(),F(window,"storage",o=>setTimeout(()=>n(o),0)),t}function Z(e){const s=JSON.parse(e),t=[];return s.forEach(({resource:n,instrumentationLibrarySpans:o})=>{o.forEach(({instrumentationLibrary:a,spans:r})=>{r.forEach(d=>{t.push(x(f({},d),{instrumentationLibrary:a,resource:n}))})})}),t}const ee={class:"font-mono"},se=y({props:{sessionId:null},setup(e){const t=Y(H(e,"sessionId"));return(n,o)=>(c(),i("div",null,[l("pre",ee,v(_(t).spans),1)]))}}),te=[{path:"/",name:"session.list",component:W},{path:"/view/:sessionId",name:"session.view",component:se,props:!0}];var oe=K({history:J(),routes:te});const ae={},ne={class:"flex flex-col h-screen w-screen overflow-hidden"},re={class:"h-12 flex-initial flex border-gray-500 border-b"},ce=u(" Sessions List "),ie={class:"flex-1 overflow-auto"};function le(e,s){const t=m("router-link"),n=m("router-view");return c(),i("div",ne,[l("div",re,[p(t,{class:"block p-2 bg-transparent hover:bg-gray-100 hover:text-gray-800",to:"/","exact-active-class":"bg-gray-100 text-blue-600 hover:text-blue-600"},{default:h(()=>[ce]),_:1})]),l("div",ie,[p(n)])])}var ue=V(ae,[["render",le]]);const S=P(ue);S.use(oe);S.mount("#app");
