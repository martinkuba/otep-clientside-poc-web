var S=Object.defineProperty,I=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var g=(s,t,e)=>t in s?S(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,f=(s,t)=>{for(var e in t||(t={}))L.call(t,e)&&g(s,e,t[e]);if(w)for(var e of w(t))V.call(t,e)&&g(s,e,t[e]);return s},x=(s,t)=>I(s,E(t));import{I as $,g as k,_ as N}from"./plugin-vue_export-helper.12c35966.js";import{q as y,H as R,J as T,K as D,M as m,u as c,v as i,w as l,y as A,z as B,N as _,A as p,Q as h,U as u,x as v,V as C,X as H,Y as K,Z as O,_ as J,$ as U,a0 as X,G as Y}from"./vendor.ad9cede3.js";const j={class:"p-2"},q={class:"list-disc ml-6"},z={class:"text-sm"},F=u(" ("),G=u(") "),M=y({setup(s){const t=R(T($,{},{deep:!1,shallow:!0,writeDefaults:!1})),e=D(()=>Object.entries(t.value).map(([a,o])=>f({sessionId:a,lastDataTime:new Date(o.lastData)},o)).sort((a,o)=>o.lastData-a.lastData));return(n,a)=>{const o=m("RouterLink");return c(),i("div",j,[l("ul",q,[(c(!0),i(A,null,B(_(e),r=>(c(),i("li",null,[p(o,{to:{name:"session.view",params:{sessionId:r.sessionId}}},{default:h(()=>[u(v(r.sessionId),1)]),_:2},1032,["to"]),l("span",z,[F,p(_(C),{time:r.lastDataTime},{default:h(({timeAgo:d})=>[u(v(d),1)]),_:2},1032,["time"]),G])]))),256))])])}}});function P(s){return H({spans:Q(D(()=>k("spans",_(s))),W)})}function Q(s,t){const e=K([]);function n(a){if(!(a&&a.key!==s.value))try{const o=a?a.newValue:localStorage.getItem(s.value);if(!o){e.value=[];return}e.value=t(o)}catch(o){console.error("Error parsing localstorage",s.value,o)}}return n(),O(window,"storage",a=>setTimeout(()=>n(a),0)),e}function W(s){const t=JSON.parse(s),e=[];return t.forEach(({resource:n,instrumentationLibrarySpans:a})=>{a.forEach(({instrumentationLibrary:o,spans:r})=>{r.forEach(d=>{e.push(x(f({},d),{instrumentationLibrary:o,resource:n}))})})}),e}const Z={class:"font-mono"},ee=y({props:{sessionId:null},setup(s){const e=P(J(s,"sessionId"));return(n,a)=>(c(),i("div",null,[l("pre",Z,v(_(e).spans),1)]))}}),se=[{path:"/",name:"session.list",component:M},{path:"/view/:sessionId",name:"session.view",component:ee,props:!0}];var te=U({history:X(),routes:se});const ae={},oe={class:"flex flex-col h-screen w-screen overflow-hidden"},ne={class:"h-12 flex-initial flex border-gray-500 border-b"},re=u(" Sessions List "),ce={class:"flex-1 overflow-auto"};function ie(s,t){const e=m("router-link"),n=m("router-view");return c(),i("div",oe,[l("div",ne,[p(e,{class:"block p-2 bg-transparent hover:bg-gray-100 hover:text-gray-800",to:"/","exact-active-class":"bg-gray-100 text-blue-600 hover:text-blue-600"},{default:h(()=>[re]),_:1})]),l("div",ce,[p(n)])])}var le=N(ae,[["render",ie]]);const b=Y(le);b.use(te);b.mount("#app");
