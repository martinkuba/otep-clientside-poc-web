var S=Object.defineProperty,I=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var w=(s,t,e)=>t in s?S(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,f=(s,t)=>{for(var e in t||(t={}))L.call(t,e)&&w(s,e,t[e]);if(g)for(var e of g(t))k.call(t,e)&&w(s,e,t[e]);return s},x=(s,t)=>I(s,E(t));import{I as V,g as $,_ as R}from"./plugin-vue_export-helper.0377b147.js";import{c as y,s as T,u as N,l as D,m,o as c,f as i,g as l,F as A,n as B,p as _,j as p,w as h,q as u,i as v,v as C,x as H,y as O,z as j,A as F,G as K,H as q,k as z}from"./vendor.04beea78.js";const G={class:"p-2"},J={class:"list-disc ml-6"},P={class:"text-sm"},U=u(" ("),W=u(") "),X=y({setup(s){const t=T(N(V,{},{deep:!1,shallow:!0,writeDefaults:!1})),e=D(()=>Object.entries(t.value).map(([o,a])=>f({sessionId:o,lastDataTime:new Date(a.lastData)},a)).sort((o,a)=>a.lastData-o.lastData));return(n,o)=>{const a=m("RouterLink");return c(),i("div",G,[l("ul",J,[(c(!0),i(A,null,B(_(e),r=>(c(),i("li",null,[p(a,{to:{name:"session.view",params:{sessionId:r.sessionId}}},{default:h(()=>[u(v(r.sessionId),1)]),_:2},1032,["to"]),l("span",P,[U,p(_(C),{time:r.lastDataTime},{default:h(({timeAgo:d})=>[u(v(d),1)]),_:2},1032,["time"]),W])]))),256))])])}}});function Y(s){return H({spans:M(D(()=>$("spans",_(s))),Q)})}function M(s,t){const e=O([]);function n(o){if(!(o&&o.key!==s.value))try{const a=o?o.newValue:localStorage.getItem(s.value);if(!a){e.value=[];return}e.value=t(a)}catch(a){console.error("Error parsing localstorage",s.value,a)}}return n(),j(window,"storage",o=>setTimeout(()=>n(o),0)),e}function Q(s){const t=JSON.parse(s),e=[];return t.forEach(({resource:n,instrumentationLibrarySpans:o})=>{o.forEach(({instrumentationLibrary:a,spans:r})=>{r.forEach(d=>{e.push(x(f({},d),{instrumentationLibrary:a,resource:n}))})})}),e}const Z={class:"font-mono"},ee=y({props:{sessionId:null},setup(s){const e=Y(F(s,"sessionId"));return(n,o)=>(c(),i("div",null,[l("pre",Z,v(_(e).spans),1)]))}}),se=[{path:"/",name:"session.list",component:X},{path:"/view/:sessionId",name:"session.view",component:ee,props:!0}];var te=K({history:q(),routes:se});const oe={},ae={class:"flex flex-col h-screen w-screen overflow-hidden"},ne={class:"h-12 flex-initial flex border-gray-500 border-b"},re=u(" Sessions List "),ce={class:"flex-1 overflow-auto"};function ie(s,t){const e=m("router-link"),n=m("router-view");return c(),i("div",ae,[l("div",ne,[p(e,{class:"block p-2 bg-transparent hover:bg-gray-100 hover:text-gray-800",to:"/","exact-active-class":"bg-gray-100 text-blue-600 hover:text-blue-600"},{default:h(()=>[re]),_:1})]),l("div",ce,[p(n)])])}var le=R(oe,[["render",ie]]);const b=z(le);b.use(te);b.mount("#app");
